<script src="../../../../../../ScheduleAI/ui/src/app/components/pair/pair.component.ts"></script>
<div class="container">
  <div class="header-container">
    <app-logo></app-logo>
  </div>
  <div class="tools-container">
    <button tuiButton iconStart="@tui.plus" size="m" (click)="newToken()">Создать</button>
  </div>
  <div class="cards-container">
    @for (token of tokens$ | async; track token.id) {
      <div tuiCardLarge>
        <div class="token-container">
          <h4>{{ token.name }}</h4>
          <span>{{ token.mask }}</span>
          @if (token.expiresAt | dateIsFuture) {
            <span>До {{ token.expiresAt | formatDate }}</span>
          } @else {
            <span>Истек</span>
          }
          <button
            tuiIconButton
            size="m"
            appearance="flat-destructive"
            iconStart="@tui.trash"
            (click)="deleteToken(token.id)"
          ></button>
        </div>
      </div>
    }
  </div>
</div>
